{% extends "admin/base_site.html" %}
{% load i18n portal_filters %}

{% block bodyclass %}{{ block.super }} login{% endblock %}

{% block content %}
<div class="admin-login-wrapper">
  <div class="admin-login-card">
    <aside class="admin-login-aside">
      <span class="auth-badge" style="background: rgba(15,23,42,0.25); border-radius: 999px; padding: 6px 14px; display: inline-flex; align-items: center; gap: 8px; font-weight: 600;">‚öôÔ∏è {% translate "–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" %}</span>
      <h2 style="margin: 0; font-size: 1.8rem; font-weight: 700;">{% translate "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ Legalize –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏" %}</h2>
      <p>{% translate "–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–¥–∞—á–∞–º–∏ –∏–∑ –µ–¥–∏–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞." %}</p>
      <ul class="admin-login-features">
        <li><span>üîí</span> {% translate "–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∏ –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π" %}</li>
        <li><span>üìä</span> {% translate "–î–∞—à–±–æ—Ä–¥—ã —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏" %}</li>
        <li><span>üë•</span> {% translate "–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã" %}</li>
      </ul>
    </aside>
  </div>
  <div class="admin-login-form">
    <header style="display: grid; gap: 6px;">
      <h1>{% translate "–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å" %}</h1>
      <p>{% translate "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ Legalize." %}</p>
    </header>

    {% if form.non_field_errors %}
      <div class="admin-alert">{{ form.non_field_errors|striptags }}</div>
    {% elif form.errors %}
      <div class="admin-alert">{% translate "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞." %}</div>
    {% endif %}

    {% if user.is_authenticated %}
      <div class="admin-alert">{% blocktrans %}–í—ã —É–∂–µ –≤–æ—à–ª–∏ –∫–∞–∫ {{ user }}. –í–æ–∑–º–æ–∂–Ω–æ, —É –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.{% endblocktrans %}</div>
    {% endif %}

    <form action="{{ app_path }}" method="post" id="login-form" novalidate>
      {% csrf_token %}
      <div class="admin-field">
        <label for="id_username">{{ form.username.label }}</label>
        {{ form.username|add_class:"admin-input" }}
        {% if form.username.errors %}
          <div class="admin-alert" style="margin-top: 8px;">{{ form.username.errors|striptags }}</div>
        {% endif %}
      </div>
      <div class="admin-field">
        <label for="id_password">{{ form.password.label }}</label>
        {{ form.password|add_class:"admin-input" }}
        {% if form.password.errors %}
          <div class="admin-alert" style="margin-top: 8px;">{{ form.password.errors|striptags }}</div>
        {% endif %}
      </div>

      {% if next %}
        <input type="hidden" name="next" value="{{ next }}">
      {% endif %}

      <button type="submit" class="admin-button">{% translate "–í–æ–π—Ç–∏" %}</button>
    </form>

    <div class="admin-meta" style="margin-top: 16px;">
      <a href="{% url 'account_reset_password' %}">{% translate "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?" %}</a>
    </div>
  </div>
</div>
{% endblock %}
